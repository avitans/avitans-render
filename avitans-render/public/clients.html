<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>לקוחות</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; direction: rtl; background: #fff; }
    h1 { margin-bottom: 1rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: right; }
    th { background-color: #f0f0f0; }
  </style>
</head>
<body>
  <h1>רשימת לקוחות</h1>
  <table>
    <thead>
      <tr>
        <th>שם</th>
        <th>טלפון</th>
        <th>יתרה</th>
        <th>סה״כ הזמנות</th>
        <th>קישור</th>
      </tr>
    </thead>
    <tbody id="client-list"></tbody>
  </table>

  <script>
    fetch('/api/clients-full')
      .then(res => res.json())
      .then(data => {
        const rows = data.map(c => \`
          <tr>
            <td>\${c.name}</td>
            <td>\${c.phone}</td>
            <td>\${c.balance}</td>
            <td>\${c.total_orders}</td>
            <td><a href="client.html?id=\${c.id}">פתח</a></td>
          </tr>\`
        ).join('');
        document.getElementById('client-list').innerHTML = rows;
      });
  </script>
</body>
</html>
